{"ast":null,"code":"var _jsxFileName = \"/Users/govind.singh/Desktop/GitHub React/React/react-saga/src/components/Home.js\";\nimport React from 'react';\nimport Cookies from 'universal-cookie';\nimport { connect } from 'react-redux';\nimport { loadDataByEmail, sendUserData, updateUserData } from '../actions';\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.updateData = () => {\n      var data = {\n        \"name\": this.state.name,\n        \"emailId\": this.state.emailId,\n        \"mobile\": this.state.mobile,\n        \"address\": this.state.address,\n        \"city\": this.state.city,\n        \"state\": this.state.state,\n        \"zipCode\": this.state.zipCode\n      };\n      const dataToSend = {\n        \"token\": \"\",\n        \"data\": data\n      };\n      console.log(\"data to update :: \", dataToSend);\n      this.props.updateUserData(dataToSend);\n      const cookies = new Cookies();\n      cookies.remove('state');\n    };\n\n    this.emailChange = event => {\n      this.setState({\n        emailId: event.target.value\n      });\n    };\n\n    this.nameChange = event => {\n      this.setState({\n        name: event.target.value\n      });\n    };\n\n    this.mobileChange = event => {\n      this.setState({\n        mobile: event.target.value\n      });\n    };\n\n    this.addressChange = event => {\n      this.setState({\n        address: event.target.value\n      });\n    };\n\n    this.cityChange = event => {\n      this.setState({\n        city: event.target.value\n      });\n    };\n\n    this.stateChange = event => {\n      this.setState({\n        state: event.target.value\n      });\n    };\n\n    this.zipCodeChange = event => {\n      this.setState({\n        zipCode: event.target.value\n      });\n    };\n\n    this.state = {\n      places: [\"mumbai\", \"goa\", \"pune\", \"hyderabad\"],\n      name: '',\n      emailId: '',\n      mobile: '',\n      address: '',\n      city: '',\n      state: '',\n      zipCode: '',\n      error: '',\n      isEditTrue: false\n    };\n    this.sendData = this.sendData.bind(this);\n  }\n\n  componentDidMount() {\n    const cookies = new Cookies();\n    const response = this.props.response;\n\n    if (cookies.get(\"state\") === undefined) {\n      this.setState({\n        isEditTrue: false\n      });\n    } else {\n      this.setState({\n        isEditTrue: true\n      });\n      const email = {\n        \"value\": cookies.get(\"emailKey\")\n      };\n      this.props.loadDataByEmail(email);\n    }\n\n    if (cookies.get(\"emailKey\") !== undefined && cookies.get(\"state\") === undefined) {\n      this.props.history.push(\"/profile\");\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const cookies = new Cookies();\n\n    if (cookies.get(\"state\") === \"update\") {\n      const response = nextProps.response.data;\n      this.setState({\n        name: response.name,\n        emailId: response.emailId,\n        mobile: response.mobile,\n        address: response.address,\n        city: response.city,\n        state: response.state,\n        zipCode: response.zipCode\n      });\n    }\n\n    const status = nextProps.response.data.status;\n\n    if (status === \"success\") {\n      const cookies = new Cookies();\n      cookies.set('emailKey', this.state.emailId);\n      this.props.history.push(\"/profile\");\n    } else if (status === \"failed\") {\n      this.setState({\n        error: \"Oops try again ! (Duplicate Email)\"\n      });\n    }\n  }\n\n  sendData() {\n    if (this.validateData() === false) {\n      return false;\n    }\n\n    this.setState({\n      error: \"\"\n    });\n    var data = {\n      \"name\": this.state.name,\n      \"emailId\": this.state.emailId,\n      \"mobile\": this.state.mobile,\n      \"address\": this.state.address,\n      \"city\": this.state.city,\n      \"state\": this.state.state,\n      \"zipCode\": this.state.zipCode\n    };\n    const dataToSend = {\n      \"token\": \"\",\n      \"data\": data\n    };\n    this.props.sendUserData(dataToSend);\n  }\n\n  validateData() {\n    if (this.state.name === '' || this.state.emailId === '' || this.state.mobile === '' || this.state.address === '' || this.state.city === '' || this.state.zipCode === '') {\n      this.setState({\n        error: \"All fields are required\"\n      });\n      return false;\n    }\n\n    if (!this.state.name.match(/^[A-Za-z]+$/)) {\n      this.setState({\n        error: \"Name is required\"\n      });\n      return false;\n    }\n\n    if (!this.state.emailId.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i)) {\n      this.setState({\n        error: \"Email is invalid\"\n      });\n      return false;\n    }\n\n    if (!this.state.mobile.match(/^\\d{10}$/)) {\n      this.setState({\n        error: \"Mobile is invalid\"\n      });\n      return false;\n    }\n\n    if (!this.state.city.match(/^[A-Za-z]+$/)) {\n      this.setState({\n        error: \"City is required\"\n      });\n      return false;\n    }\n\n    if (!this.state.zipCode.match(/^\\d{6}$/)) {\n      this.setState({\n        error: \"Zip Code is invalid\"\n      });\n      return false;\n    }\n  }\n\n  render() {\n    const response = this.props.response;\n    return React.createElement(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"pt-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, \"Name:\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      value: this.state.name,\n      onChange: this.nameChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }), \"Email Id:\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"emailId\",\n      value: this.state.emailId,\n      onChange: this.emailChange,\n      disabled: this.state.isEditTrue ? \"disabled\" : \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }), \"Mobile:\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"mobile\",\n      value: this.state.mobile,\n      onChange: this.mobileChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }), \"Address:\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"address\",\n      value: this.state.address,\n      onChange: this.addressChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }), \"City:\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"city\",\n      value: this.state.city,\n      onChange: this.cityChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }), \"State:\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"state\",\n      value: this.state.state,\n      onChange: this.stateChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }), \"Zip Code:\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"zipCode\",\n      value: this.state.zipCode,\n      onChange: this.zipCodeChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      class: this.state.error !== \"\" ? \"alert alert-warning mt-3\" : \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, this.state.error), this.state.isEditTrue === false ? React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.sendData,\n      className: \"btn btn-success\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, \"Save Data\") : React.createElement(\"button\", {\n      type: \"button\",\n      value: \"Submit\",\n      onClick: this.updateData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, \"Update\")));\n  }\n\n}\n\nconst mapStateToProps = ({\n  response\n}) => ({\n  response\n});\n\nconst mapDispatchToProps = dispatch => ({\n  loadDataByEmail: email => dispatch(loadDataByEmail(email)),\n  sendUserData: dataToSend => dispatch(sendUserData(dataToSend)),\n  updateUserData: dataToSend => dispatch(updateUserData(dataToSend))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home); // const mapStateToProps=(state)=>{\n//     return state\n// };","map":{"version":3,"sources":["/Users/govind.singh/Desktop/GitHub React/React/react-saga/src/components/Home.js"],"names":["React","Cookies","connect","loadDataByEmail","sendUserData","updateUserData","Home","Component","constructor","props","updateData","data","state","name","emailId","mobile","address","city","zipCode","dataToSend","console","log","cookies","remove","emailChange","event","setState","target","value","nameChange","mobileChange","addressChange","cityChange","stateChange","zipCodeChange","places","error","isEditTrue","sendData","bind","componentDidMount","response","get","undefined","email","history","push","componentWillReceiveProps","nextProps","status","set","validateData","match","render","textAlign","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,eAAR,EAAyBC,YAAzB,EAAuCC,cAAvC,QAA4D,YAA5D;;AAEA,MAAMC,IAAN,SAAmBN,KAAK,CAACO,SAAzB,CAAkC;AAE9BC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;;AADc,SAqFjBC,UArFiB,GAqFN,MAAI;AACZ,UAAIC,IAAI,GAAC;AACL,gBAAO,KAAKC,KAAL,CAAWC,IADb;AAEL,mBAAU,KAAKD,KAAL,CAAWE,OAFhB;AAGL,kBAAS,KAAKF,KAAL,CAAWG,MAHf;AAIL,mBAAU,KAAKH,KAAL,CAAWI,OAJhB;AAKL,gBAAO,KAAKJ,KAAL,CAAWK,IALb;AAML,iBAAQ,KAAKL,KAAL,CAAWA,KANd;AAOL,mBAAU,KAAKA,KAAL,CAAWM;AAPhB,OAAT;AASA,YAAMC,UAAU,GAAG;AAAC,iBAAQ,EAAT;AAAY,gBAAOR;AAAnB,OAAnB;AACAS,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCF,UAAlC;AACA,WAAKV,KAAL,CAAWJ,cAAX,CAA0Bc,UAA1B;AACA,YAAMG,OAAO,GAAG,IAAIrB,OAAJ,EAAhB;AACAqB,MAAAA,OAAO,CAACC,MAAR,CAAe,OAAf;AACH,KApGiB;;AAAA,SAuGlBC,WAvGkB,GAuGLC,KAAD,IAAS;AACjB,WAAKC,QAAL,CAAc;AAACZ,QAAAA,OAAO,EAAGW,KAAK,CAACE,MAAN,CAAaC;AAAxB,OAAd;AACH,KAzGiB;;AAAA,SA0GlBC,UA1GkB,GA0GNJ,KAAD,IAAS;AAChB,WAAKC,QAAL,CAAc;AAACb,QAAAA,IAAI,EAAGY,KAAK,CAACE,MAAN,CAAaC;AAArB,OAAd;AACH,KA5GiB;;AAAA,SA6GlBE,YA7GkB,GA6GJL,KAAD,IAAS;AAClB,WAAKC,QAAL,CAAc;AAACX,QAAAA,MAAM,EAAGU,KAAK,CAACE,MAAN,CAAaC;AAAvB,OAAd;AACH,KA/GiB;;AAAA,SAgHlBG,aAhHkB,GAgHHN,KAAD,IAAS;AACnB,WAAKC,QAAL,CAAc;AAACV,QAAAA,OAAO,EAAGS,KAAK,CAACE,MAAN,CAAaC;AAAxB,OAAd;AACH,KAlHiB;;AAAA,SAmHlBI,UAnHkB,GAmHNP,KAAD,IAAS;AAChB,WAAKC,QAAL,CAAc;AAACT,QAAAA,IAAI,EAAGQ,KAAK,CAACE,MAAN,CAAaC;AAArB,OAAd;AACH,KArHiB;;AAAA,SAsHlBK,WAtHkB,GAsHLR,KAAD,IAAS;AACjB,WAAKC,QAAL,CAAc;AAACd,QAAAA,KAAK,EAAGa,KAAK,CAACE,MAAN,CAAaC;AAAtB,OAAd;AACH,KAxHiB;;AAAA,SAyHlBM,aAzHkB,GAyHHT,KAAD,IAAS;AACnB,WAAKC,QAAL,CAAc;AAACR,QAAAA,OAAO,EAAGO,KAAK,CAACE,MAAN,CAAaC;AAAxB,OAAd;AACH,KA3HiB;;AAEd,SAAKhB,KAAL,GAAW;AACPuB,MAAAA,MAAM,EAAC,CAAC,QAAD,EAAU,KAAV,EAAgB,MAAhB,EAAuB,WAAvB,CADA;AAEPtB,MAAAA,IAAI,EAAE,EAFC;AAGPC,MAAAA,OAAO,EAAC,EAHD;AAIPC,MAAAA,MAAM,EAAC,EAJA;AAKPC,MAAAA,OAAO,EAAC,EALD;AAMPC,MAAAA,IAAI,EAAC,EANE;AAOPL,MAAAA,KAAK,EAAC,EAPC;AAQPM,MAAAA,OAAO,EAAC,EARD;AASPkB,MAAAA,KAAK,EAAC,EATC;AAUPC,MAAAA,UAAU,EAAC;AAVJ,KAAX;AAYA,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CAAhB;AACH;;AAEDC,EAAAA,iBAAiB,GAAE;AACf,UAAMlB,OAAO,GAAG,IAAIrB,OAAJ,EAAhB;AADe,UAERwC,QAFQ,GAEI,KAAKhC,KAFT,CAERgC,QAFQ;;AAIf,QAAInB,OAAO,CAACoB,GAAR,CAAY,OAAZ,MAAyBC,SAA7B,EAAuC;AACnC,WAAKjB,QAAL,CAAc;AAACW,QAAAA,UAAU,EAAG;AAAd,OAAd;AACH,KAFD,MAEM;AACF,WAAKX,QAAL,CAAc;AAACW,QAAAA,UAAU,EAAG;AAAd,OAAd;AACA,YAAMO,KAAK,GAAG;AAAC,iBAAStB,OAAO,CAACoB,GAAR,CAAY,UAAZ;AAAV,OAAd;AACA,WAAKjC,KAAL,CAAWN,eAAX,CAA2ByC,KAA3B;AACH;;AAED,QAAItB,OAAO,CAACoB,GAAR,CAAY,UAAZ,MAA4BC,SAA5B,IAA0CrB,OAAO,CAACoB,GAAR,CAAY,OAAZ,MAAuBC,SAArE,EAAgF;AAC5E,WAAKlC,KAAL,CAAWoC,OAAX,CAAmBC,IAAnB,CAAwB,UAAxB;AACH;AACJ;;AAKDC,EAAAA,yBAAyB,CAACC,SAAD,EAAW;AAChC,UAAM1B,OAAO,GAAG,IAAIrB,OAAJ,EAAhB;;AACA,QAAIqB,OAAO,CAACoB,GAAR,CAAY,OAAZ,MAAyB,QAA7B,EAAsC;AAClC,YAAMD,QAAQ,GAAGO,SAAS,CAACP,QAAV,CAAmB9B,IAApC;AACA,WAAKe,QAAL,CAAc;AACVb,QAAAA,IAAI,EAAE4B,QAAQ,CAAC5B,IADL;AAEVC,QAAAA,OAAO,EAAE2B,QAAQ,CAAC3B,OAFR;AAGVC,QAAAA,MAAM,EAAE0B,QAAQ,CAAC1B,MAHP;AAIVC,QAAAA,OAAO,EAAEyB,QAAQ,CAACzB,OAJR;AAKVC,QAAAA,IAAI,EAAEwB,QAAQ,CAACxB,IALL;AAMVL,QAAAA,KAAK,EAAE6B,QAAQ,CAAC7B,KANN;AAOVM,QAAAA,OAAO,EAAEuB,QAAQ,CAACvB;AAPR,OAAd;AASH;;AAED,UAAM+B,MAAM,GAAGD,SAAS,CAACP,QAAV,CAAmB9B,IAAnB,CAAwBsC,MAAvC;;AACA,QAAIA,MAAM,KAAK,SAAf,EAAyB;AACrB,YAAM3B,OAAO,GAAG,IAAIrB,OAAJ,EAAhB;AACAqB,MAAAA,OAAO,CAAC4B,GAAR,CAAY,UAAZ,EAAwB,KAAKtC,KAAL,CAAWE,OAAnC;AACA,WAAKL,KAAL,CAAWoC,OAAX,CAAmBC,IAAnB,CAAwB,UAAxB;AACH,KAJD,MAKK,IAAIG,MAAM,KAAK,QAAf,EAAyB;AAC1B,WAAKvB,QAAL,CAAc;AAACU,QAAAA,KAAK,EAAC;AAAP,OAAd;AACH;AACJ;;AAKDE,EAAAA,QAAQ,GAAE;AACN,QAAG,KAAKa,YAAL,OAAsB,KAAzB,EAA+B;AAC3B,aAAO,KAAP;AACH;;AACD,SAAKzB,QAAL,CAAc;AAACU,MAAAA,KAAK,EAAC;AAAP,KAAd;AAEA,QAAIzB,IAAI,GAAC;AACL,cAAO,KAAKC,KAAL,CAAWC,IADb;AAEL,iBAAU,KAAKD,KAAL,CAAWE,OAFhB;AAGL,gBAAS,KAAKF,KAAL,CAAWG,MAHf;AAIL,iBAAU,KAAKH,KAAL,CAAWI,OAJhB;AAKL,cAAO,KAAKJ,KAAL,CAAWK,IALb;AAML,eAAQ,KAAKL,KAAL,CAAWA,KANd;AAOL,iBAAU,KAAKA,KAAL,CAAWM;AAPhB,KAAT;AASA,UAAMC,UAAU,GAAG;AAAC,eAAQ,EAAT;AAAY,cAAOR;AAAnB,KAAnB;AACA,SAAKF,KAAL,CAAWL,YAAX,CAAwBe,UAAxB;AACH;;AA2CDgC,EAAAA,YAAY,GAAE;AACV,QAAG,KAAKvC,KAAL,CAAWC,IAAX,KAAkB,EAAlB,IAAwB,KAAKD,KAAL,CAAWE,OAAX,KAAqB,EAA7C,IAAmD,KAAKF,KAAL,CAAWG,MAAX,KAAoB,EAAvE,IAA6E,KAAKH,KAAL,CAAWI,OAAX,KAAqB,EAAlG,IAAwG,KAAKJ,KAAL,CAAWK,IAAX,KAAkB,EAA1H,IAAgI,KAAKL,KAAL,CAAWM,OAAX,KAAqB,EAAxJ,EAA4J;AACxJ,WAAKQ,QAAL,CAAc;AAACU,QAAAA,KAAK,EAAC;AAAP,OAAd;AACA,aAAO,KAAP;AACH;;AACD,QAAG,CAAC,KAAKxB,KAAL,CAAWC,IAAX,CAAgBuC,KAAhB,CAAsB,aAAtB,CAAJ,EAAyC;AACrC,WAAK1B,QAAL,CAAc;AAACU,QAAAA,KAAK,EAAC;AAAP,OAAd;AACA,aAAO,KAAP;AACH;;AACD,QAAG,CAAC,KAAKxB,KAAL,CAAWE,OAAX,CAAmBsC,KAAnB,CAAyB,sCAAzB,CAAJ,EAAqE;AACjE,WAAK1B,QAAL,CAAc;AAACU,QAAAA,KAAK,EAAC;AAAP,OAAd;AACA,aAAO,KAAP;AACH;;AACD,QAAG,CAAC,KAAKxB,KAAL,CAAWG,MAAX,CAAkBqC,KAAlB,CAAwB,UAAxB,CAAJ,EAAwC;AACpC,WAAK1B,QAAL,CAAc;AAACU,QAAAA,KAAK,EAAC;AAAP,OAAd;AACA,aAAO,KAAP;AACH;;AACD,QAAG,CAAC,KAAKxB,KAAL,CAAWK,IAAX,CAAgBmC,KAAhB,CAAsB,aAAtB,CAAJ,EAAyC;AACrC,WAAK1B,QAAL,CAAc;AAACU,QAAAA,KAAK,EAAC;AAAP,OAAd;AACA,aAAO,KAAP;AACH;;AACD,QAAG,CAAC,KAAKxB,KAAL,CAAWM,OAAX,CAAmBkC,KAAnB,CAAyB,SAAzB,CAAJ,EAAwC;AACpC,WAAK1B,QAAL,CAAc;AAACU,QAAAA,KAAK,EAAC;AAAP,OAAd;AACA,aAAO,KAAP;AACH;AACJ;;AAGDiB,EAAAA,MAAM,GAAE;AAAA,UACGZ,QADH,GACe,KAAKhC,KADpB,CACGgC,QADH;AAEJ,WACI;AAAK,MAAA,KAAK,EAAE;AAACa,QAAAA,SAAS,EAAC;AAAX,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAM,MAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADT,EAEI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,IAAI,EAAC,MAAxB;AAA+B,MAAA,KAAK,EAAE,KAAK1C,KAAL,CAAWC,IAAjD;AAAuD,MAAA,QAAQ,EAAE,KAAKgB,UAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,eAIa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJb,EAKI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,IAAI,EAAC,SAAxB;AAAkC,MAAA,KAAK,EAAE,KAAKjB,KAAL,CAAWE,OAApD;AAA6D,MAAA,QAAQ,EAAE,KAAKU,WAA5E;AAAyF,MAAA,QAAQ,EAAG,KAAKZ,KAAL,CAAWyB,UAAX,GAAsB,UAAtB,GAAiC,EAArI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,EAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANJ,aAOW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPX,EAQI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,IAAI,EAAC,QAAxB;AAAiC,MAAA,KAAK,EAAE,KAAKzB,KAAL,CAAWG,MAAnD;AAA2D,MAAA,QAAQ,EAAE,KAAKe,YAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARJ,EASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATJ,cAUY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAVZ,EAWI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,IAAI,EAAC,SAAxB;AAAkC,MAAA,KAAK,EAAE,KAAKlB,KAAL,CAAWI,OAApD;AAA6D,MAAA,QAAQ,EAAE,KAAKe,aAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXJ,EAYI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAZJ,WAaS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAbT,EAcI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,IAAI,EAAC,MAAxB;AAA+B,MAAA,KAAK,EAAE,KAAKnB,KAAL,CAAWK,IAAjD;AAAuD,MAAA,QAAQ,EAAE,KAAKe,UAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAdJ,EAeI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAfJ,YAgBU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAhBV,EAiBI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,IAAI,EAAC,OAAxB;AAAgC,MAAA,KAAK,EAAE,KAAKpB,KAAL,CAAWA,KAAlD;AAAyD,MAAA,QAAQ,EAAE,KAAKqB,WAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAjBJ,EAkBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAlBJ,eAmBa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnBb,EAoBI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,IAAI,EAAC,SAAxB;AAAkC,MAAA,KAAK,EAAE,KAAKrB,KAAL,CAAWM,OAApD;AAA6D,MAAA,QAAQ,EAAE,KAAKgB,aAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MApBJ,EAqBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MArBJ,EAsBI;AAAI,MAAA,KAAK,EAAE,KAAKtB,KAAL,CAAWwB,KAAX,KAAmB,EAAnB,GAAsB,0BAAtB,GAAiD,EAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAiE,KAAKxB,KAAL,CAAWwB,KAA5E,CAtBJ,EAwBQ,KAAKxB,KAAL,CAAWyB,UAAX,KAA0B,KAA1B,GACK;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,OAAO,EAAE,KAAKC,QAApC;AAA8C,MAAA,SAAS,EAAC,iBAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADL,GAEK;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,KAAK,EAAC,QAA5B;AAAqC,MAAA,OAAO,EAAE,KAAK5B,UAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBA1Bb,CADJ,CADJ;AAkCH;;AAhM6B;;AAmMlC,MAAM6C,eAAe,GAAG,CAAC;AAACd,EAAAA;AAAD,CAAD,MAAiB;AACrCA,EAAAA;AADqC,CAAjB,CAAxB;;AAIA,MAAMe,kBAAkB,GAAIC,QAAD,KAAa;AACpCtD,EAAAA,eAAe,EAAIyC,KAAD,IAASa,QAAQ,CAACtD,eAAe,CAACyC,KAAD,CAAhB,CADC;AAEpCxC,EAAAA,YAAY,EAAIe,UAAD,IAAcsC,QAAQ,CAACrD,YAAY,CAACe,UAAD,CAAb,CAFD;AAGpCd,EAAAA,cAAc,EAAIc,UAAD,IAAcsC,QAAQ,CAACpD,cAAc,CAACc,UAAD,CAAf;AAHH,CAAb,CAA3B;;AAKA,eAAejB,OAAO,CAACqD,eAAD,EAAkBC,kBAAlB,CAAP,CAA6ClD,IAA7C,CAAf,C,CAGA;AACA;AACA","sourcesContent":["import React from 'react';\nimport Cookies from 'universal-cookie';\nimport {connect} from 'react-redux';\nimport {loadDataByEmail, sendUserData, updateUserData} from '../actions';\n\nclass Home extends React.Component{\n \n    constructor(props){\n        super(props);\n        this.state={\n            places:[\"mumbai\",\"goa\",\"pune\",\"hyderabad\"],\n            name: '',\n            emailId:'',\n            mobile:'',\n            address:'',\n            city:'',\n            state:'',\n            zipCode:'',\n            error:'',\n            isEditTrue:false\n        }\n        this.sendData = this.sendData.bind(this);\n    }\n\n    componentDidMount(){\n        const cookies = new Cookies();\n        const {response} = this.props;\n\n        if( cookies.get(\"state\") === undefined){\n            this.setState({isEditTrue : false})\n        } else{\n            this.setState({isEditTrue : true})\n            const email = {\"value\": cookies.get(\"emailKey\")}\n            this.props.loadDataByEmail(email)\n        }\n\n        if( cookies.get(\"emailKey\") !== undefined && (cookies.get(\"state\")===undefined)){\n            this.props.history.push(\"/profile\") \n        }\n    }\n\n\n\n\n    componentWillReceiveProps(nextProps){\n        const cookies = new Cookies();\n        if( cookies.get(\"state\") === \"update\"){\n            const response = nextProps.response.data;\n            this.setState({\n                name: response.name,\n                emailId: response.emailId,\n                mobile: response.mobile,\n                address: response.address,\n                city: response.city,\n                state: response.state,\n                zipCode: response.zipCode,\n            })\n        }\n\n        const status = nextProps.response.data.status;\n        if( status === \"success\"){\n            const cookies = new Cookies();\n            cookies.set('emailKey', this.state.emailId);\n            this.props.history.push(\"/profile\");\n        } \n        else if( status === \"failed\" ){\n            this.setState({error:\"Oops try again ! (Duplicate Email)\"})\n        }\n    }\n\n\n\n\n    sendData(){\n        if(this.validateData()===false){\n            return false;\n        }\n        this.setState({error:\"\"})\n\n        var data={\n            \"name\":this.state.name,\n            \"emailId\":this.state.emailId,\n            \"mobile\":this.state.mobile,\n            \"address\":this.state.address,\n            \"city\":this.state.city,\n            \"state\":this.state.state,\n            \"zipCode\":this.state.zipCode\n        }\n        const dataToSend = {\"token\":\"\",\"data\":data}\n        this.props.sendUserData(dataToSend);\n    }\n\n     updateData=()=>{\n        var data={\n            \"name\":this.state.name,\n            \"emailId\":this.state.emailId,\n            \"mobile\":this.state.mobile,\n            \"address\":this.state.address,\n            \"city\":this.state.city,\n            \"state\":this.state.state,\n            \"zipCode\":this.state.zipCode\n        }\n        const dataToSend = {\"token\":\"\",\"data\":data}\n        console.log(\"data to update :: \", dataToSend)\n        this.props.updateUserData(dataToSend);\n        const cookies = new Cookies();\n        cookies.remove('state');\n    }\n\n\n    emailChange=(event)=>{\n        this.setState({emailId : event.target.value});\n    }\n    nameChange=(event)=>{\n        this.setState({name : event.target.value});\n    }  \n    mobileChange=(event)=>{\n        this.setState({mobile : event.target.value});\n    }  \n    addressChange=(event)=>{\n        this.setState({address : event.target.value});\n    }  \n    cityChange=(event)=>{\n        this.setState({city : event.target.value});\n    }  \n    stateChange=(event)=>{\n        this.setState({state : event.target.value});\n    }  \n    zipCodeChange=(event)=>{\n        this.setState({zipCode : event.target.value});\n    }\n\n\n    validateData(){\n        if(this.state.name==='' || this.state.emailId==='' || this.state.mobile==='' || this.state.address==='' || this.state.city==='' || this.state.zipCode==='') {\n            this.setState({error:\"All fields are required\"})\n            return false;\n        }\n        if(!this.state.name.match(/^[A-Za-z]+$/)){\n            this.setState({error:\"Name is required\"})\n            return false;\n        }\n        if(!this.state.emailId.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i)){\n            this.setState({error:\"Email is invalid\"})\n            return false;\n        }\n        if(!this.state.mobile.match(/^\\d{10}$/)){\n            this.setState({error:\"Mobile is invalid\"})\n            return false;\n        }\n        if(!this.state.city.match(/^[A-Za-z]+$/)){\n            this.setState({error:\"City is required\"})\n            return false;\n        }\n        if(!this.state.zipCode.match(/^\\d{6}$/)){\n            this.setState({error:\"Zip Code is invalid\"})\n            return false;\n        }    \n    }\n\n\n    render(){\n        const {response} = this.props;\n        return(\n            <div style={{textAlign:\"center\"}}>\n                <form className=\"pt-3\">\n                    Name:<br/>\n                    <input type=\"text\" name=\"name\" value={this.state.name} onChange={this.nameChange}/>\n                    <br/>\n                    Email Id:<br/>\n                    <input type=\"text\" name=\"emailId\" value={this.state.emailId} onChange={this.emailChange} disabled={(this.state.isEditTrue?\"disabled\":\"\")}/>             \n                    <br/>\n                    Mobile:<br/>\n                    <input type=\"text\" name=\"mobile\" value={this.state.mobile} onChange={this.mobileChange}/>\n                    <br/>\n                    Address:<br/>\n                    <input type=\"text\" name=\"address\" value={this.state.address} onChange={this.addressChange}/>\n                    <br/>\n                    City:<br/>\n                    <input type=\"text\" name=\"city\" value={this.state.city} onChange={this.cityChange}/>\n                    <br/>\n                    State:<br/>\n                    <input type=\"text\" name=\"state\" value={this.state.state} onChange={this.stateChange}/>\n                    <br/>\n                    Zip Code:<br/>\n                    <input type=\"text\" name=\"zipCode\" value={this.state.zipCode} onChange={this.zipCodeChange}/>\n                    <br/>\n                    <p  class={this.state.error!==\"\"?\"alert alert-warning mt-3\":\"\"}>{this.state.error}</p>\n                    {\n                        this.state.isEditTrue === false \n                            ?<button type=\"button\" onClick={this.sendData} className=\"btn btn-success\">Save Data</button>\n                            :<button type=\"button\" value=\"Submit\" onClick={this.updateData} >Update</button>              \n                    }\n\n                </form>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = ({response}) => ({\n    response\n})\n\nconst mapDispatchToProps = (dispatch)=>({\n    loadDataByEmail : (email)=>dispatch(loadDataByEmail(email)),\n    sendUserData : (dataToSend)=>dispatch(sendUserData(dataToSend)),\n    updateUserData : (dataToSend)=>dispatch(updateUserData(dataToSend)),\n})\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n\n\n// const mapStateToProps=(state)=>{\n//     return state\n// };"]},"metadata":{},"sourceType":"module"}
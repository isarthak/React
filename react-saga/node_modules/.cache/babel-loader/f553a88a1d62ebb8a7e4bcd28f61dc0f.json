{"ast":null,"code":"var _jsxFileName = \"/Users/govind.singh/Desktop/ReactJs/React/form-assig/src/Form.js\";\nimport React from 'react';\nimport Cookies from 'universal-cookie';\nimport { connect } from \"react-redux\";\nimport * as actionCreators from \"./actions/index.js\";\n\nclass Form extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      emailId: '',\n      mobile: '',\n      address: '',\n      city: '',\n      state: '',\n      zipCode: '',\n      error: '',\n      isEditTrue: false\n    };\n    this.emailChange = this.emailChange.bind(this);\n    this.nameChange = this.nameChange.bind(this);\n    this.mobileChange = this.mobileChange.bind(this);\n    this.addressChange = this.addressChange.bind(this);\n    this.cityChange = this.cityChange.bind(this);\n    this.stateChange = this.stateChange.bind(this);\n    this.zipCodeChange = this.zipCodeChange.bind(this);\n    this.submitData = this.submitData.bind(this);\n    this.updateData = this.updateData.bind(this);\n  }\n\n  componentDidMount() {\n    const cookieState = new Cookies().get(\"state\");\n    const cookieEmail = new Cookies().get(\"emailKey\");\n\n    if (cookieState === undefined) {\n      this.setState({\n        isEditTrue: false\n      });\n    } else {\n      this.setState({\n        isEditTrue: true\n      });\n      this.props.loadUserData(cookieEmail).then(() => {\n        const response = this.props.userData;\n        console.log(\"@@\", response);\n\n        if (response.status === \"success\") {\n          this.setState({\n            name: response.data.name,\n            emailId: response.data.emailId,\n            mobile: response.data.mobile,\n            address: response.data.address,\n            city: response.data.city,\n            state: response.data.state,\n            zipCode: response.data.zipCode\n          });\n        }\n      });\n    }\n\n    const cookies = new Cookies();\n\n    if (cookies.get(\"emailKey\") !== undefined && cookies.get(\"state\") === undefined) {\n      this.props.history.push(\"/userData\");\n    }\n  }\n\n  emailChange(event) {\n    this.setState({\n      emailId: event.target.value\n    });\n  }\n\n  nameChange(event) {\n    this.setState({\n      name: event.target.value\n    });\n  }\n\n  mobileChange(event) {\n    this.setState({\n      mobile: event.target.value\n    });\n  }\n\n  addressChange(event) {\n    this.setState({\n      address: event.target.value\n    });\n  }\n\n  cityChange(event) {\n    this.setState({\n      city: event.target.value\n    });\n  }\n\n  stateChange(event) {\n    this.setState({\n      state: event.target.value\n    });\n  }\n\n  zipCodeChange(event) {\n    this.setState({\n      zipCode: event.target.value\n    });\n  }\n\n  submitData() {\n    if (this.validateData() == false) {\n      return false;\n    }\n\n    this.setState({\n      error: \"\"\n    });\n    var token = \"\";\n    var data = {\n      \"name\": this.state.name,\n      \"emailId\": this.state.emailId,\n      \"mobile\": this.state.mobile,\n      \"address\": this.state.address,\n      \"city\": this.state.city,\n      \"state\": this.state.state,\n      \"zipCode\": this.state.zipCode\n    };\n    this.props.saveUserData(token, data).then(() => {\n      const response = this.props.userData;\n\n      if (response.status === \"success\") {\n        const cookies = new Cookies();\n        cookies.set('emailKey', this.state.emailId);\n        this.props.history.push(\"/userdata\");\n      } else {\n        this.setState({\n          error: \"Duplicate Email\"\n        });\n      }\n    });\n  }\n\n  updateData() {}\n\n  validateData() {\n    if (this.state.name === '' || this.state.emailId === '' || this.state.mobile === '' || this.state.address === '' || this.state.city === '' || this.state.zipCode === '') {\n      this.setState({\n        error: \"All fields are required\"\n      });\n      return false;\n    }\n\n    if (!this.state.name.match(/^[A-Za-z]+$/)) {\n      this.setState({\n        error: \"Name is required\"\n      });\n      return false;\n    }\n\n    if (!this.state.emailId.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i)) {\n      this.setState({\n        error: \"Email is invalid\"\n      });\n      return false;\n    }\n\n    if (!this.state.mobile.match(/^\\d{10}$/)) {\n      this.setState({\n        error: \"Mobile is invalid\"\n      });\n      return false;\n    }\n\n    if (!this.state.city.match(/^[A-Za-z]+$/)) {\n      this.setState({\n        error: \"City is required\"\n      });\n      return false;\n    }\n\n    if (!this.state.zipCode.match(/^\\d{6}$/)) {\n      this.setState({\n        error: \"Zip Code is invalid\"\n      });\n      return false;\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, this.state.isEditTrue === false ? React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"Registration Form\") : React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"Update Your Details\"), React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \"Name:\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      value: this.state.name,\n      onChange: this.nameChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }), \"Email Id:\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"emailId\",\n      value: this.state.emailId,\n      onChange: this.emailChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }), \"Mobile:\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"mobile\",\n      value: this.state.mobile,\n      onChange: this.mobileChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }), \"Address:\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"address\",\n      value: this.state.address,\n      onChange: this.addressChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }), \"City:\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"city\",\n      value: this.state.city,\n      onChange: this.cityChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }), \"State:\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"state\",\n      value: this.state.state,\n      onChange: this.stateChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }), \"Zip Code:\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"zipCode\",\n      value: this.state.zipCode,\n      onChange: this.zipCodeChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      style: {\n        color: \"red\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, this.state.error), this.state.isEditTrue === false ? React.createElement(\"button\", {\n      type: \"button\",\n      value: \"Submit\",\n      onClick: this.submitData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, \"Submit\") : React.createElement(\"button\", {\n      type: \"button\",\n      value: \"Submit\",\n      onClick: this.updateData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, \"Update\")));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return state;\n};\n\nexport default connect(mapStateToProps, actionCreators)(Form);","map":{"version":3,"sources":["/Users/govind.singh/Desktop/ReactJs/React/form-assig/src/Form.js"],"names":["React","Cookies","connect","actionCreators","Form","Component","constructor","props","state","name","emailId","mobile","address","city","zipCode","error","isEditTrue","emailChange","bind","nameChange","mobileChange","addressChange","cityChange","stateChange","zipCodeChange","submitData","updateData","componentDidMount","cookieState","get","cookieEmail","undefined","setState","loadUserData","then","response","userData","console","log","status","data","cookies","history","push","event","target","value","validateData","token","saveUserData","set","match","render","color","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Cookies from 'universal-cookie';\nimport {connect} from \"react-redux\";\nimport * as actionCreators from \"./actions/index.js\"\n\nclass Form extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: '',\n            emailId:'',\n            mobile:'',\n            address:'',\n            city:'',\n            state:'',\n            zipCode:'',\n            error:'',\n            isEditTrue:false\n        };\n        this.emailChange = this.emailChange.bind(this);\n        this.nameChange = this.nameChange.bind(this);\n        this.mobileChange = this.mobileChange.bind(this);\n        this.addressChange = this.addressChange.bind(this);\n        this.cityChange = this.cityChange.bind(this);\n        this.stateChange = this.stateChange.bind(this);\n        this.zipCodeChange = this.zipCodeChange.bind(this);\n        this.submitData = this.submitData.bind(this);\n        this.updateData = this.updateData.bind(this);\n      }\n\n\n\n    componentDidMount(){\n        const cookieState = new Cookies().get(\"state\");\n        const cookieEmail = new Cookies().get(\"emailKey\");\n\n        if( cookieState === undefined){\n            this.setState({isEditTrue : false})\n        } \n        else{\n            this.setState({isEditTrue : true})\n            this.props.loadUserData(cookieEmail).then(()=>{\n                const response = this.props.userData;\n                console.log(\"@@\",response);\n                if(response.status === \"success\"){\n                    this.setState({\n                        name: response.data.name,\n                        emailId: response.data.emailId,\n                        mobile: response.data.mobile,\n                        address: response.data.address,\n                        city: response.data.city,\n                        state: response.data.state,\n                        zipCode: response.data.zipCode,\n                    })\n                }\n            })\n        }\n\n        const cookies = new Cookies();\n        if( cookies.get(\"emailKey\") !== undefined && (cookies.get(\"state\")===undefined)){\n            this.props.history.push(\"/userData\") \n        }\n\n    }\n\n\n    emailChange(event){\n        this.setState({emailId : event.target.value});\n    }\n    nameChange(event){\n        this.setState({name : event.target.value});\n    }  \n    mobileChange(event){\n        this.setState({mobile : event.target.value});\n    }  \n    addressChange(event){\n        this.setState({address : event.target.value});\n    }  \n    cityChange(event){\n        this.setState({city : event.target.value});\n    }  \n    stateChange(event){\n        this.setState({state : event.target.value});\n    }  \n    zipCodeChange(event){\n        this.setState({zipCode : event.target.value});\n    }\n    submitData(){\n        if(this.validateData()==false){\n            return false;\n        }\n        this.setState({error:\"\"});\n        var token=\"\";\n        var data={\n            \"name\":this.state.name,\n            \"emailId\":this.state.emailId,\n            \"mobile\":this.state.mobile,\n            \"address\":this.state.address,\n            \"city\":this.state.city,\n            \"state\":this.state.state,\n            \"zipCode\":this.state.zipCode\n        }\n        this.props.saveUserData(token,data).then(()=>{\n            const response = this.props.userData;\n            if(response.status === \"success\"){\n                const cookies = new Cookies();\n                cookies.set('emailKey', this.state.emailId);\n                this.props.history.push(\"/userdata\");\n            } else{\n                this.setState({error:\"Duplicate Email\"})\n            }\n        });\n    }\n\n\n\n    updateData(){\n        \n    }\n\n\n    validateData(){\n        if(this.state.name==='' || this.state.emailId==='' || this.state.mobile==='' || this.state.address==='' || this.state.city==='' || this.state.zipCode==='') {\n            this.setState({error:\"All fields are required\"})\n            return false;\n        }\n        if(!this.state.name.match(/^[A-Za-z]+$/)){\n            this.setState({error:\"Name is required\"})\n            return false;\n        }\n        if(!this.state.emailId.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i)){\n            this.setState({error:\"Email is invalid\"})\n            return false;\n        }\n        if(!this.state.mobile.match(/^\\d{10}$/)){\n            this.setState({error:\"Mobile is invalid\"})\n            return false;\n        }\n        if(!this.state.city.match(/^[A-Za-z]+$/)){\n            this.setState({error:\"City is required\"})\n            return false;\n        }\n        if(!this.state.zipCode.match(/^\\d{6}$/)){\n            this.setState({error:\"Zip Code is invalid\"})\n            return false;\n        }    \n    }\n\n\n    render(){\n        return(\n            <div >\n                \n                {\n                    this.state.isEditTrue === false \n                        ?<h3>Registration Form</h3>\n                        :<h3>Update Your Details</h3>              \n                }\n                <form>\n                    Name:<br/>\n                    <input type=\"text\" name=\"name\" value={this.state.name} onChange={this.nameChange}/>\n                    <br/>\n                    Email Id:<br/>\n                    <input type=\"text\" name=\"emailId\" value={this.state.emailId} onChange={this.emailChange}/>\n                    <br/>\n                    Mobile:<br/>\n                    <input type=\"text\" name=\"mobile\" value={this.state.mobile} onChange={this.mobileChange}/>\n                    <br/>\n                    Address:<br/>\n                    <input type=\"text\" name=\"address\" value={this.state.address} onChange={this.addressChange}/>\n                    <br/>\n                    City:<br/>\n                    <input type=\"text\" name=\"city\" value={this.state.city} onChange={this.cityChange}/>\n                    <br/>\n                    State:<br/>\n                    <input type=\"text\" name=\"state\" value={this.state.state} onChange={this.stateChange}/>\n                    <br/>\n                    Zip Code:<br/>\n                    <input type=\"text\" name=\"zipCode\" value={this.state.zipCode} onChange={this.zipCodeChange}/>\n                    <br/>\n                    <p style={{color:\"red\"}}>{this.state.error}</p>\n                    \n                    {\n                        this.state.isEditTrue === false \n                            ?<button type=\"button\" value=\"Submit\" onClick={this.submitData} >\n                                    Submit\n                             </button>\n                            :<button type=\"button\" value=\"Submit\" onClick={this.updateData} >\n                                Update\n                             </button>              \n                    }\n\n                </form>\n\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps=(state)=>{\n    return state\n};\nexport default connect (mapStateToProps, actionCreators)(Form); "]},"metadata":{},"sourceType":"module"}